<turbo-frame id="proponents_list">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Name</th>
        <th>CPF</th>
        <th>Date of Birth</th>
        <th>Salary</th>
      </tr>
    </thead>
    <tbody>
      <% @proponents.each_with_index do |proponent, index| %>
        <tr data-bs-toggle="collapse" data-bs-target="#collapse-<%= index %>" aria-expanded="false" aria-controls="collapse-<%= index %>">
          <td><%= proponent.name %></td>
          <td><%= proponent.cpf %></td>
          <td><%= proponent.date_of_birth %></td>
          <td><%= proponent.salary %></td>
        </tr>
        <tr>
          <td colspan="4">
            <div class="collapse" id="collapse-<%= index %>">
              <div class="card card-body">
                <div class="p-2">
                  <strong>Address:</strong>
                    <%= proponent.address.street %>,
                    <%= proponent.address.number %>,
                    <%= proponent.address.neighborhood %>,
                    <%= proponent.address.city %>,
                    <%= proponent.address.state %>,
                    <%= proponent.address.cep %><br>
                </div>
                <div class="p-2">
                  <strong>Contacts:</strong>
                  <% proponent.contacts.each do |contact| %>
                    <span> <%= contact.contact_type %> <%= contact.phone_number %> <span>
                  <% end %>
                </div>
              </div>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</turbo-frame>